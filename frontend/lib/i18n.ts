import i18n, { type Resource } from "i18next"
import { initReactI18next } from "react-i18next"

export const SUPPORTED_LANGUAGES = ["it", "en", "de"] as const
export type SupportedLanguage = (typeof SUPPORTED_LANGUAGES)[number]

// NOTE: Copied from oldFrontend and used by the new UI.
// Keep keys stable so pages/components can be migrated gradually.
const resources = {
  it: {
    translation: {
      nav: {
        home: "Home",
        openingTimes: "Orari",
        contact: "Contatti",
        login: "Accedi",
        myProfile: "Il mio profilo",
        dashboard: "Dashboard",
        logout: "Esci",
        toggleMenu: "Apri menu",
        language: "Lingua",
      },
      footer: {
        tagline: "Il tuo club di biliardo e bar. La combinazione perfetta tra sport e divertimento.",
        contact: "Contatti",
        openingHours: "Orari di apertura",
        quickLinks: "Link rapidi",
        rights: "Tutti i diritti riservati.",
        home: "Home",
        openingTimes: "Orari",
        contactLink: "Contatti",
        register: "Registrati",
      },
      common: {
        cancel: "Annulla",
      },
      home: {
        heroTitle: "Benvenuto da {{club}}",
        heroSubtitle:
          "Vivi il miglior club di biliardo in città. Tavoli professionali, grande atmosfera e una community accogliente.",
        whyChoose: "Perché scegliere 15 Palle?",
        features: {
          professionalTablesTitle: "Tavoli professionali",
          professionalTablesText:
            "Tavoli da biliardo di alta qualità mantenuti a standard professionali per la migliore esperienza di gioco.",
          friendlyCommunityTitle: "Community accogliente",
          friendlyCommunityText:
            "Unisciti a una community di appassionati. Dai principianti ai professionisti, tutti sono i benvenuti.",
          extendedHoursTitle: "Orari estesi",
          extendedHoursText: "Aperti fino a tardi ogni giorno. Perfetto dopo il lavoro o per i tornei nel weekend.",
        },
        ourClub: "Il nostro club",
        visitUs: "Vieni a trovarci",
        contactInformation: "Informazioni di contatto",
        address: "Indirizzo",
        phone: "Telefono",
        email: "Email",
        openingHours: "Orari di apertura",
        viewFullSchedule: "Vedi orari completi",
        mondaySaturday: "Lunedì - Sabato",
        sunday: "Domenica",
      },
      login: {
        welcomeTitle: "Benvenuto su 15 Palle",
        welcomeSubtitle: "Accedi per entrare nel tuo account",
        loginTitle: "Login",
        chooseAccountType: "Scegli il tipo di account per continuare",
        customer: "Cliente",
        owner: "Gestore",
        emailAddress: "Indirizzo email",
        emailHint: "Ti invieremo un codice di verifica",
        sendCode: "Invia codice",
        sending: "Invio...",
        verificationCode: "Codice di verifica",
        codeSentTo: "Codice inviato a",
        viewQrCode: "Visualizza QR code",
        verifying: "Verifica...",
        useDifferentEmail: "Usa un'altra email",
        username: "Username",
        password: "Password",
        signInOwner: "Accedi come gestore",
        signingIn: "Accesso...",
        validationEmail: "Inserisci un indirizzo email valido",
        validationCode: "Inserisci un codice valido di 6 cifre",
        failedSend: "Impossibile inviare il codice di verifica",
        invalidCode: "Codice di verifica non valido",
        invalidCredentials: "Credenziali non valide",
      },
      openingTimes: {
        title: "Orari",
        subtitle: "Siamo aperti tutti i giorni. Vieni a trovarci e goditi una partita a biliardo!",
        weeklySchedule: "Programma settimanale",
        weeklyScheduleDesc: "I nostri orari regolari durante la settimana",
        specialEvents: "Eventi speciali",
        specialEventsText:
          "Organizziamo tornei ed eventi durante il mese. In occasione di eventi speciali gli orari possono variare.",
        lastEntry: "Ultimo ingresso",
        lastEntryText:
          "L'ultimo ingresso è 30 minuti prima della chiusura. Nei weekend consigliamo di arrivare presto.",
        holidayHours: "Orari festivi",
        holidayHoursText:
          "Durante le festività gli orari possono variare. Annunceremo eventuali cambiamenti con almeno una settimana di anticipo.",
        days: {
          monday: "Lunedì",
          tuesday: "Martedì",
          wednesday: "Mercoledì",
          thursday: "Giovedì",
          friday: "Venerdì",
          saturday: "Sabato",
          sunday: "Domenica",
        },
      },
      contactPage: {
        title: "Contattaci",
        subtitle: "Hai domande o vuoi prenotare un tavolo? Scrivici, saremo felici di aiutarti.",
        sendMessage: "Inviaci un messaggio",
        firstName: "Nome",
        lastName: "Cognome",
        email: "Email",
        phoneOptional: "Telefono (opzionale)",
        message: "Messaggio",
        messagePlaceholder: "Dicci come possiamo aiutarti...",
        send: "Invia messaggio",
        contactInformation: "Informazioni di contatto",
        address: "Indirizzo",
        phone: "Telefono",
        openingHours: "Orari di apertura",
        visitClubTitle: "Vieni a trovarci",
        visitClubText:
          "Passa durante gli orari di apertura. Per gruppi o eventi, ti chiediamo di contattarci in anticipo.",
        viewOnMap: "Apri mappa",
        faqTitle: "Domande frequenti",
        faq1Q: "Devo prenotare in anticipo?",
        faq1A:
          "Sì, puoi venire senza prenotazione! Consigliamo però di prenotare per gruppi di 4+ o nelle ore di punta.",
        faq2Q: "Quali sono le tariffe?",
        faq2A: "Le tariffe orarie variano in base a giorno e orario. Contattaci per i prezzi aggiornati.",
        faq3Q: "Posso organizzare un evento privato?",
        faq3A:
          "Offriamo prenotazioni private per compleanni, eventi aziendali e tornei. Contattaci per un pacchetto su misura.",
      },
      profile: {
        loading: "Caricamento profilo...",
        title: "Il mio profilo",
        subtitle: "Le tue informazioni di iscrizione",
        personalInfo: "Informazioni personali",
        accountDetails: "Dettagli account",
        firstName: "Nome",
        lastName: "Cognome",
        email: "Email",
        memberSince: "Iscritto dal",
        status: "Stato",
        accountBlocked: "Account bloccato",
        activeMember: "Membro attivo",
        pendingVerification: "Verifica in attesa",
        yourQrCode: "Il tuo QR code",
        presentToScan: "Mostralo per la scansione al club",
        saveAsImage: "Salva come immagine",
        addToGoogleWallet: "Aggiungi a Google Wallet",
      },
      dashboard: {
        title: "Dashboard Gestore",
        subtitle: "Gestisci i membri del club",
        websocketPrefix: "WebSocket:",
        realtimeConnected: "✓ Aggiornamenti in tempo reale connessi",
        stats: {
          totalMembers: "Totale membri",
          active: "Attivi",
          blocked: "Bloccati",
        },
        tabs: {
          members: "Membri",
          checkins: "Check-in recenti",
        },
        members: {
          title: "Gestione membri",
          description: "Visualizza e gestisci tutti i membri del club",
          addMember: "Aggiungi membro",
          export: "Esporta",
          import: "Importa",
          searchLabel: "Cerca",
          searchPlaceholder: "Cerca per nome o email...",
          statusLabel: "Stato",
          statusAll: "Tutti i membri",
          statusActive: "Attivi",
          statusBlocked: "Bloccati",
          loading: "Caricamento membri...",
          table: {
            name: "Nome",
            email: "Email",
            created: "Creato",
            status: "Stato",
            actions: "Azioni",
          },
          statusBadges: {
            blocked: "Bloccato",
            active: "Attivo",
            pending: "In attesa",
          },
          noMembers: "Nessun membro trovato",
          pagination: "Pagina {{page}} di {{totalPages}} ({{total}} membri)",
        },
        checkins: {
          title: "Check-in recenti",
          description: "Registro in tempo reale degli accessi",
          loading: "Caricamento check-in...",
          none: "Nessun check-in recente",
          unknownMember: "Membro sconosciuto",
          noEmail: "Nessuna email",
          pagination: "Pagina {{page}} di {{totalPages}} ({{total}} check-in)",
        },
        dialogs: {
          createTitle: "Crea nuovo membro",
          createDescription: "Aggiungi un nuovo membro al club",
          editTitle: "Modifica membro",
          editDescription: "Aggiorna dettagli e stato del membro",
          deleteTitle: "Elimina membro",
          deleteDescription: "Vuoi eliminare {{name}}? Questa azione non può essere annullata.",
          importTitle: "Importa membri da CSV",
          importDescription: "Carica un CSV con colonne: firstName, lastName, email",
          detailsTitle: "Dettagli membro",
          detailsDescription: "Visualizza e gestisci le informazioni del membro",
          personalInfo: "Informazioni personali",
          qrCode: "QR code",
          firstName: "Nome",
          lastName: "Cognome",
          email: "Email",
          status: "Stato",
          active: "Attivo",
          blocked: "Bloccato",
          nameLabel: "Nome:",
          emailLabel: "Email:",
          idLabel: "ID:",
          sendEmailWithQr: "Invia email con QR-code",
          printQr: "Stampa QR",
          resetQr: "Reimposta QR",
          createCta: "Crea membro",
          creating: "Creazione...",
          save: "Salva modifiche",
          saving: "Salvataggio...",
          deleteCta: "Elimina membro",
          deleting: "Eliminazione...",
          importCta: "Importa",
        },
        toasts: {
          errorTitle: "Errore",
          genericError: "Qualcosa è andato storto.",
          validationErrorTitle: "Errore di validazione",
          allFieldsRequired: "Tutti i campi sono obbligatori",
          failedLoadMembers: "Impossibile caricare i membri",
          failedLoadCheckins: "Impossibile caricare i check-in",
          failedCreateMember: "Impossibile creare il membro",
          failedUpdateMember: "Impossibile aggiornare il membro",
          failedDeleteMember: "Impossibile eliminare il membro",
          failedResetQr: "Impossibile reimpostare il QR code",
          failedExport: "Impossibile esportare il CSV",
          failedImport: "Impossibile importare il CSV",
          memberCreatedTitle: "Membro creato",
          memberCreatedDesc: "Il nuovo membro è stato aggiunto con successo.",
          memberUpdatedTitle: "Membro aggiornato",
          memberUpdatedDesc: "I dettagli del membro sono stati aggiornati.",
          memberDeletedTitle: "Membro eliminato",
          memberDeletedDesc: "{{name}} è stato rimosso.",
          qrResetTitle: "QR code reimpostato",
          qrResetDesc: "Il QR code del membro è stato rigenerato.",
          exportCompleteTitle: "Esportazione completata",
          exportCompleteDesc: "I membri sono stati esportati in CSV.",
          importCompleteTitle: "Importazione completata",
          importCompleteDesc: "Importati {{count}} membri.",
        },
        realtime: {
          passbackWarning: "⚠️ Avviso passback",
          newCheckin: "✓ Nuovo check-in",
          memberCheckedIn: "{{firstName}} {{lastName}} ha effettuato il check-in",
        },
        realtimeErrors: {
          CONNECTION_ERROR: "Errore di connessione",
          MISSING_WEBSOCKET_URL: "URL WebSocket mancante",
        },
      },
      errors: {
        NO_TOKEN_PROVIDED: "Token mancante.",
        INTERNAL_SERVER_ERROR: "Errore interno del server.",
        QRUUID_REQUIRED: "Il codice QR è obbligatorio.",
        NO_VALID_CREDENTIALS: "Credenziali non valide.",
        INVALID_TOKEN: "Token non valido o scaduto.",
        MEMBER_ID_REQUIRED_IN_PATH: "ID membro mancante nel percorso.",
        MEMBER_ID_REQUIRED: "ID membro obbligatorio.",
        INVALID_MEMBER_ID_FORMAT: "Formato ID membro non valido.",
        MEMBER_NOT_FOUND: "Membro non trovato.",
        MEMBER_BLOCKED: "Il membro è bloccato.",
        MEMBER_EMAIL_EXISTS: "Esiste già un membro con questa email.",
        MEMBER_REQUIRED: "Nome, cognome, email e opzione invio email sono obbligatori.",
        INVALID_EMAIL_FORMAT: "Formato email non valido.",
        EMAIL_REQUIRED: "Email obbligatoria.",
        EMAIL_AND_CONFIRMATION_CODE: "Email e codice di verifica sono obbligatori.",
        INVALID_EMAIL_OR_CODE: "Email o codice non validi.",
        CODE_EXPIRED: "Il codice è scaduto.",
        INVALID_CODE: "Codice non valido.",
        MISSING_CREDENTIALS: "Nome utente e password sono obbligatori.",
        INVALID_CREDENTIALS: "Credenziali non valide.",
        TOO_MANY_ATTEMPTS: "Troppi tentativi. Riprova tra {{minutes}} minuti.",
        CSV_REQUIRED: "File CSV mancante.",
        CSV_INVALID: "Formato CSV non valido.",
        IMPORT_BATCH_REQUIRED: "Batch di import mancante o non valido.",
        IMPORT_BATCH_TOO_LARGE: "Batch troppo grande (max {{max}}).",
      },
    },
  },
  en: {
    translation: {
      nav: {
        home: "Home",
        openingTimes: "Opening Times",
        contact: "Contact",
        login: "Login",
        myProfile: "My Profile",
        dashboard: "Dashboard",
        logout: "Logout",
        toggleMenu: "Toggle menu",
        language: "Language",
      },
      footer: {
        tagline: "Your premier billiard club and bar. Experience the perfect combination of sport and entertainment.",
        contact: "Contact",
        openingHours: "Opening Hours",
        quickLinks: "Quick Links",
        rights: "All rights reserved.",
        home: "Home",
        openingTimes: "Opening Times",
        contactLink: "Contact",
        register: "Register",
      },
      common: {
        cancel: "Cancel",
      },
      home: {
        heroTitle: "Welcome to {{club}}",
        heroSubtitle:
          "Experience the finest billiard club in town. Professional tables, great atmosphere, and a welcoming community await you.",
        whyChoose: "Why Choose 15 Palle?",
        features: {
          professionalTablesTitle: "Professional Tables",
          professionalTablesText:
            "Top-quality billiard tables maintained to professional standards for the best playing experience.",
          friendlyCommunityTitle: "Friendly Community",
          friendlyCommunityText:
            "Join a welcoming community of billiard enthusiasts. From beginners to pros, everyone is welcome.",
          extendedHoursTitle: "Extended Hours",
          extendedHoursText: "Open late every day of the week. Perfect for after-work games or weekend tournaments.",
        },
        ourClub: "Our Club",
        visitUs: "Visit Us",
        contactInformation: "Contact Information",
        address: "Address",
        phone: "Phone",
        email: "Email",
        openingHours: "Opening Hours",
        viewFullSchedule: "View Full Schedule",
        mondaySaturday: "Monday - Saturday",
        sunday: "Sunday",
      },
      login: {
        welcomeTitle: "Welcome to 15 Palle",
        welcomeSubtitle: "Sign in to access your account",
        loginTitle: "Login",
        chooseAccountType: "Choose your account type to continue",
        customer: "Customer",
        owner: "Owner",
        emailAddress: "Email Address",
        emailHint: "We'll send you a verification code",
        sendCode: "Send Verification Code",
        sending: "Sending...",
        verificationCode: "Verification Code",
        codeSentTo: "Code sent to",
        viewQrCode: "View QR Code",
        verifying: "Verifying...",
        useDifferentEmail: "Use different email",
        username: "Username",
        password: "Password",
        signInOwner: "Sign In as Owner",
        signingIn: "Signing in...",
        validationEmail: "Please enter a valid email address",
        validationCode: "Please enter a valid 6-digit code",
        failedSend: "Failed to send verification code",
        invalidCode: "Invalid verification code",
        invalidCredentials: "Invalid credentials",
      },
      openingTimes: {
        title: "Opening Times",
        subtitle: "We're open every day of the week. Come visit us and enjoy a great game of billiards!",
        weeklySchedule: "Weekly Schedule",
        weeklyScheduleDesc: "Our regular opening hours throughout the week",
        specialEvents: "Special Events",
        specialEventsText:
          "We host special tournaments and events throughout the month. Extended hours may apply during special events.",
        lastEntry: "Last Entry",
        lastEntryText:
          "Last entry is 30 minutes before closing time. We recommend arriving early on weekends as tables can fill up quickly.",
        holidayHours: "Holiday Hours",
        holidayHoursText:
          "Please note that our opening hours may vary during public holidays. We'll announce changes at least one week in advance.",
        days: {
          monday: "Monday",
          tuesday: "Tuesday",
          wednesday: "Wednesday",
          thursday: "Thursday",
          friday: "Friday",
          saturday: "Saturday",
          sunday: "Sunday",
        },
      },
      contactPage: {
        title: "Get in Touch",
        subtitle: "Have questions or want to book a table? We'd love to hear from you. Reach out and let's connect.",
        sendMessage: "Send us a Message",
        firstName: "First Name",
        lastName: "Last Name",
        email: "Email",
        phoneOptional: "Phone (Optional)",
        message: "Message",
        messagePlaceholder: "Tell us how we can help you...",
        send: "Send Message",
        contactInformation: "Contact Information",
        address: "Address",
        phone: "Phone",
        openingHours: "Opening Hours",
        visitClubTitle: "Visit Our Club",
        visitClubText:
          "Drop by anytime during our opening hours. For group bookings or events, please contact us in advance.",
        viewOnMap: "View on Map",
        faqTitle: "Frequently Asked Questions",
        faq1Q: "Do I need to book in advance?",
        faq1A:
          "Walk-ins are welcome! However, we recommend booking for groups of 4+ or during peak hours (Friday-Saturday evenings).",
        faq2Q: "What are your rates?",
        faq2A: "Our hourly rates vary by time and day. Contact us for current pricing or visit during our opening hours.",
        faq3Q: "Can I host a private event?",
        faq3A:
          "We offer private bookings for birthdays, corporate events, and tournaments. Get in touch for a custom package.",
      },
      profile: {
        loading: "Loading profile...",
        title: "My Profile",
        subtitle: "Your membership information",
        personalInfo: "Personal Information",
        accountDetails: "Your account details",
        firstName: "First Name",
        lastName: "Last Name",
        email: "Email",
        memberSince: "Member Since",
        status: "Status",
        accountBlocked: "Account Blocked",
        activeMember: "Active Member",
        pendingVerification: "Pending Verification",
        yourQrCode: "Your QR Code",
        presentToScan: "Present this to scan at the club",
        saveAsImage: "Save as Image",
        addToGoogleWallet: "Add to Google Wallet",
      },
      dashboard: {
        title: "Owner Dashboard",
        subtitle: "Manage club members",
        websocketPrefix: "WebSocket:",
        realtimeConnected: "✓ Real-time updates connected",
        stats: {
          totalMembers: "Total Members",
          active: "Active",
          blocked: "Blocked",
        },
        tabs: {
          members: "Members",
          checkins: "Recent Check-ins",
        },
        members: {
          title: "Members Management",
          description: "View and manage all club members",
          addMember: "Add Member",
          export: "Export",
          import: "Import",
          searchLabel: "Search",
          searchPlaceholder: "Search by name or email...",
          statusLabel: "Status",
          statusAll: "All Members",
          statusActive: "Active",
          statusBlocked: "Blocked",
          loading: "Loading members...",
          table: {
            name: "Name",
            email: "Email",
            created: "Created",
            status: "Status",
            actions: "Actions",
          },
          statusBadges: {
            blocked: "Blocked",
            active: "Active",
            pending: "Pending",
          },
          noMembers: "No members found",
          pagination: "Page {{page}} of {{totalPages}} ({{total}} members)",
        },
        checkins: {
          title: "Recent Check-ins",
          description: "Real-time log of member access",
          loading: "Loading check-ins...",
          none: "No recent check-ins found",
          unknownMember: "Unknown Member",
          noEmail: "No email",
          pagination: "Page {{page}} of {{totalPages}} ({{total}} check ins)",
        },
        dialogs: {
          createTitle: "Create New Member",
          createDescription: "Add a new member to the club",
          editTitle: "Edit Member",
          editDescription: "Update member details and status",
          deleteTitle: "Delete Member",
          deleteDescription: "Are you sure you want to delete {{name}}? This action cannot be undone.",
          importTitle: "Import Members from CSV",
          importDescription: "Upload a CSV file with columns: firstName, lastName, email",
          detailsTitle: "Member Details",
          detailsDescription: "View and manage member information",
          personalInfo: "Personal Information",
          qrCode: "QR Code",
          firstName: "First Name",
          lastName: "Last Name",
          email: "Email",
          status: "Status",
          active: "Active",
          blocked: "Blocked",
          nameLabel: "Name:",
          emailLabel: "Email:",
          idLabel: "ID:",
          sendEmailWithQr: "Send email with QR-code",
          printQr: "Print QR",
          resetQr: "Reset QR",
          createCta: "Create Member",
          creating: "Creating...",
          save: "Save Changes",
          saving: "Saving...",
          deleteCta: "Delete Member",
          deleting: "Deleting...",
          importCta: "Import",
        },
        toasts: {
          errorTitle: "Error",
          genericError: "Something went wrong.",
          validationErrorTitle: "Validation error",
          allFieldsRequired: "All fields are required",
          failedLoadMembers: "Failed to load members",
          failedLoadCheckins: "Failed to load check-ins",
          failedCreateMember: "Failed to create member",
          failedUpdateMember: "Failed to update member",
          failedDeleteMember: "Failed to delete member",
          failedResetQr: "Failed to reset QR code",
          failedExport: "Failed to export CSV",
          failedImport: "Failed to import CSV",
          memberCreatedTitle: "Member created",
          memberCreatedDesc: "New member has been added successfully.",
          memberUpdatedTitle: "Member updated",
          memberUpdatedDesc: "Member details have been updated.",
          memberDeletedTitle: "Member deleted",
          memberDeletedDesc: "{{name}} has been removed.",
          qrResetTitle: "QR Code reset",
          qrResetDesc: "Member QR code has been regenerated.",
          exportCompleteTitle: "Export complete",
          exportCompleteDesc: "Members data has been exported to CSV.",
          importCompleteTitle: "Import complete",
          importCompleteDesc: "Imported {{count}} members.",
        },
        realtime: {
          passbackWarning: "⚠️ Passback Warning",
          newCheckin: "✓ New Check-in",
          memberCheckedIn: "{{firstName}} {{lastName}} checked in",
        },
        realtimeErrors: {
          CONNECTION_ERROR: "Connection Error",
          MISSING_WEBSOCKET_URL: "Missing WebSocket URL",
        },
      },
      errors: {
        NO_TOKEN_PROVIDED: "Missing token.",
        INTERNAL_SERVER_ERROR: "Internal server error.",
        QRUUID_REQUIRED: "QR code is required.",
        NO_VALID_CREDENTIALS: "Invalid credentials.",
        INVALID_TOKEN: "Invalid or expired token.",
        MEMBER_ID_REQUIRED_IN_PATH: "Missing member id in path.",
        MEMBER_ID_REQUIRED: "Member id is required.",
        INVALID_MEMBER_ID_FORMAT: "Invalid member id format.",
        MEMBER_NOT_FOUND: "Member not found.",
        MEMBER_BLOCKED: "Member is blocked.",
        MEMBER_EMAIL_EXISTS: "A member with this email already exists.",
        MEMBER_REQUIRED: "First name, last name, email and sendEmail are required.",
        INVALID_EMAIL_FORMAT: "Invalid email format.",
        EMAIL_REQUIRED: "Email is required.",
        EMAIL_AND_CONFIRMATION_CODE: "Email and verification code are required.",
        INVALID_EMAIL_OR_CODE: "Invalid email or code.",
        CODE_EXPIRED: "The code has expired.",
        INVALID_CODE: "Invalid code.",
        MISSING_CREDENTIALS: "Username and password are required.",
        INVALID_CREDENTIALS: "Invalid credentials.",
        TOO_MANY_ATTEMPTS: "Too many attempts. Try again in {{minutes}} minutes.",
        CSV_REQUIRED: "Missing CSV file.",
        CSV_INVALID: "Invalid CSV format.",
        IMPORT_BATCH_REQUIRED: "Missing or invalid import batch.",
        IMPORT_BATCH_TOO_LARGE: "Import batch too large (max {{max}}).",
      },
    },
  },
  de: {
    translation: {
      nav: {
        home: "Start",
        openingTimes: "Öffnungszeiten",
        contact: "Kontakt",
        login: "Login",
        myProfile: "Mein Profil",
        dashboard: "Dashboard",
        logout: "Abmelden",
        toggleMenu: "Menü umschalten",
        language: "Sprache",
      },
      footer: {
        tagline: "Dein Billardclub und Bar. Die perfekte Kombination aus Sport und Unterhaltung.",
        contact: "Kontakt",
        openingHours: "Öffnungszeiten",
        quickLinks: "Schnelllinks",
        rights: "Alle Rechte vorbehalten.",
        home: "Start",
        openingTimes: "Öffnungszeiten",
        contactLink: "Kontakt",
        register: "Registrieren",
      },
      common: {
        cancel: "Abbrechen",
      },
      home: {
        heroTitle: "Willkommen bei {{club}}",
        heroSubtitle:
          "Erlebe den besten Billardclub der Stadt. Professionelle Tische, tolle Atmosphäre und eine freundliche Community.",
        whyChoose: "Warum 15 Palle?",
        features: {
          professionalTablesTitle: "Professionelle Tische",
          professionalTablesText:
            "Hochwertige Billardtische, professionell gepflegt – für das beste Spielerlebnis.",
          friendlyCommunityTitle: "Freundliche Community",
          friendlyCommunityText: "Eine einladende Community für alle – vom Anfänger bis zum Profi.",
          extendedHoursTitle: "Lange Öffnungszeiten",
          extendedHoursText: "Täglich lange geöffnet. Perfekt nach der Arbeit oder für Wochenend-Turniere.",
        },
        ourClub: "Unser Club",
        visitUs: "Besuche uns",
        contactInformation: "Kontaktinformationen",
        address: "Adresse",
        phone: "Telefon",
        email: "E-Mail",
        openingHours: "Öffnungszeiten",
        viewFullSchedule: "Vollständigen Plan ansehen",
        mondaySaturday: "Montag - Samstag",
        sunday: "Sonntag",
      },
      login: {
        welcomeTitle: "Willkommen bei 15 Palle",
        welcomeSubtitle: "Melde dich an, um auf dein Konto zuzugreifen",
        loginTitle: "Login",
        chooseAccountType: "Wähle deinen Kontotyp",
        customer: "Kunde",
        owner: "Betreiber",
        emailAddress: "E-Mail-Adresse",
        emailHint: "Wir senden dir einen Bestätigungscode",
        sendCode: "Code senden",
        sending: "Senden...",
        verificationCode: "Bestätigungscode",
        codeSentTo: "Code gesendet an",
        viewQrCode: "QR-Code anzeigen",
        verifying: "Prüfen...",
        useDifferentEmail: "Andere E-Mail verwenden",
        username: "Benutzername",
        password: "Passwort",
        signInOwner: "Als Betreiber anmelden",
        signingIn: "Anmeldung...",
        validationEmail: "Bitte eine gültige E-Mail-Adresse eingeben",
        validationCode: "Bitte einen gültigen 6-stelligen Code eingeben",
        failedSend: "Bestätigungscode konnte nicht gesendet werden",
        invalidCode: "Ungültiger Bestätigungscode",
        invalidCredentials: "Ungültige Zugangsdaten",
      },
      openingTimes: {
        title: "Öffnungszeiten",
        subtitle: "Wir haben jeden Tag geöffnet. Komm vorbei und genieße eine Runde Billard!",
        weeklySchedule: "Wochenplan",
        weeklyScheduleDesc: "Unsere regulären Öffnungszeiten",
        specialEvents: "Sonderveranstaltungen",
        specialEventsText:
          "Wir veranstalten Turniere und Events. Bei besonderen Veranstaltungen können längere Öffnungszeiten gelten.",
        lastEntry: "Letzter Einlass",
        lastEntryText:
          "Letzter Einlass ist 30 Minuten vor Schließung. Am Wochenende empfehlen wir früh zu kommen.",
        holidayHours: "Feiertage",
        holidayHoursText:
          "An Feiertagen können die Öffnungszeiten abweichen. Änderungen kündigen wir mindestens eine Woche vorher an.",
        days: {
          monday: "Montag",
          tuesday: "Dienstag",
          wednesday: "Mittwoch",
          thursday: "Donnerstag",
          friday: "Freitag",
          saturday: "Samstag",
          sunday: "Sonntag",
        },
      },
      contactPage: {
        title: "Kontakt",
        subtitle: "Fragen oder Tisch reservieren? Schreib uns – wir helfen gerne weiter.",
        sendMessage: "Nachricht senden",
        firstName: "Vorname",
        lastName: "Nachname",
        email: "E-Mail",
        phoneOptional: "Telefon (optional)",
        message: "Nachricht",
        messagePlaceholder: "Wie können wir dir helfen?",
        send: "Senden",
        contactInformation: "Kontaktinformationen",
        address: "Adresse",
        phone: "Telefon",
        openingHours: "Öffnungszeiten",
        visitClubTitle: "Besuche unseren Club",
        visitClubText:
          "Komm während der Öffnungszeiten vorbei. Für Gruppen oder Events bitte vorher kontaktieren.",
        viewOnMap: "Auf Karte ansehen",
        faqTitle: "Häufige Fragen",
        faq1Q: "Muss ich im Voraus buchen?",
        faq1A: "Walk-ins sind willkommen! Für Gruppen oder Stoßzeiten empfehlen wir eine Reservierung.",
        faq2Q: "Welche Preise habt ihr?",
        faq2A: "Die Preise variieren je nach Tag und Uhrzeit. Kontaktiere uns für aktuelle Preise.",
        faq3Q: "Kann ich ein privates Event veranstalten?",
        faq3A:
          "Wir bieten private Buchungen für Geburtstage, Firmen-Events und Turniere. Kontaktiere uns für ein Angebot.",
      },
      profile: {
        loading: "Profil wird geladen...",
        title: "Mein Profil",
        subtitle: "Deine Mitgliedsdaten",
        personalInfo: "Persönliche Daten",
        accountDetails: "Kontodetails",
        firstName: "Vorname",
        lastName: "Nachname",
        email: "E-Mail",
        memberSince: "Mitglied seit",
        status: "Status",
        accountBlocked: "Konto gesperrt",
        activeMember: "Aktives Mitglied",
        pendingVerification: "Verifizierung ausstehend",
        yourQrCode: "Dein QR-Code",
        presentToScan: "Zum Scannen im Club vorzeigen",
        saveAsImage: "Als Bild speichern",
        addToGoogleWallet: "Zu Google Wallet hinzufügen",
      },
      dashboard: {
        title: "Betreiber-Dashboard",
        subtitle: "Mitglieder verwalten",
        websocketPrefix: "WebSocket:",
        realtimeConnected: "✓ Echtzeit-Updates verbunden",
        stats: {
          totalMembers: "Mitglieder gesamt",
          active: "Aktiv",
          blocked: "Gesperrt",
        },
        tabs: {
          members: "Mitglieder",
          checkins: "Letzte Check-ins",
        },
        members: {
          title: "Mitgliederverwaltung",
          description: "Alle Mitglieder anzeigen und verwalten",
          addMember: "Mitglied hinzufügen",
          export: "Export",
          import: "Import",
          searchLabel: "Suche",
          searchPlaceholder: "Nach Name oder E-Mail suchen...",
          statusLabel: "Status",
          statusAll: "Alle Mitglieder",
          statusActive: "Aktiv",
          statusBlocked: "Gesperrt",
          loading: "Mitglieder werden geladen...",
          table: {
            name: "Name",
            email: "E-Mail",
            created: "Erstellt",
            status: "Status",
            actions: "Aktionen",
          },
          statusBadges: {
            blocked: "Gesperrt",
            active: "Aktiv",
            pending: "Ausstehend",
          },
          noMembers: "Keine Mitglieder gefunden",
          pagination: "Seite {{page}} von {{totalPages}} ({{total}} Mitglieder)",
        },
        checkins: {
          title: "Letzte Check-ins",
          description: "Echtzeit-Protokoll der Zutritte",
          loading: "Check-ins werden geladen...",
          none: "Keine aktuellen Check-ins gefunden",
          unknownMember: "Unbekanntes Mitglied",
          noEmail: "Keine E-Mail",
          pagination: "Seite {{page}} von {{totalPages}} ({{total}} Check-ins)",
        },
        dialogs: {
          createTitle: "Neues Mitglied anlegen",
          createDescription: "Ein neues Mitglied zum Club hinzufügen",
          editTitle: "Mitglied bearbeiten",
          editDescription: "Details und Status aktualisieren",
          deleteTitle: "Mitglied löschen",
          deleteDescription: "Möchtest du {{name}} löschen? Diese Aktion kann nicht rückgängig gemacht werden.",
          importTitle: "Mitglieder per CSV importieren",
          importDescription: "CSV mit Spalten: firstName, lastName, email hochladen",
          detailsTitle: "Mitgliedsdetails",
          detailsDescription: "Mitgliedsinformationen anzeigen und verwalten",
          personalInfo: "Persönliche Informationen",
          qrCode: "QR-Code",
          firstName: "Vorname",
          lastName: "Nachname",
          email: "E-Mail",
          status: "Status",
          active: "Aktiv",
          blocked: "Gesperrt",
          nameLabel: "Name:",
          emailLabel: "E-Mail:",
          idLabel: "ID:",
          sendEmailWithQr: "E-Mail mit QR-Code senden",
          printQr: "QR drucken",
          resetQr: "QR zurücksetzen",
          createCta: "Mitglied anlegen",
          creating: "Erstellen...",
          save: "Änderungen speichern",
          saving: "Speichern...",
          deleteCta: "Mitglied löschen",
          deleting: "Löschen...",
          importCta: "Importieren",
        },
        toasts: {
          errorTitle: "Fehler",
          genericError: "Etwas ist schiefgelaufen.",
          validationErrorTitle: "Validierungsfehler",
          allFieldsRequired: "Alle Felder sind erforderlich",
          failedLoadMembers: "Mitglieder konnten nicht geladen werden",
          failedLoadCheckins: "Check-ins konnten nicht geladen werden",
          failedCreateMember: "Mitglied konnte nicht erstellt werden",
          failedUpdateMember: "Mitglied konnte nicht aktualisiert werden",
          failedDeleteMember: "Mitglied konnte nicht gelöscht werden",
          failedResetQr: "QR-Code konnte nicht zurückgesetzt werden",
          failedExport: "CSV konnte nicht exportiert werden",
          failedImport: "CSV konnte nicht importiert werden",
          memberCreatedTitle: "Mitglied erstellt",
          memberCreatedDesc: "Neues Mitglied wurde erfolgreich hinzugefügt.",
          memberUpdatedTitle: "Mitglied aktualisiert",
          memberUpdatedDesc: "Mitgliedsdaten wurden aktualisiert.",
          memberDeletedTitle: "Mitglied gelöscht",
          memberDeletedDesc: "{{name}} wurde entfernt.",
          qrResetTitle: "QR-Code zurückgesetzt",
          qrResetDesc: "Der QR-Code wurde neu generiert.",
          exportCompleteTitle: "Export abgeschlossen",
          exportCompleteDesc: "Mitglieder wurden als CSV exportiert.",
          importCompleteTitle: "Import abgeschlossen",
          importCompleteDesc: "{{count}} Mitglieder importiert.",
        },
        realtime: {
          passbackWarning: "⚠️ Passback-Warnung",
          newCheckin: "✓ Neuer Check-in",
          memberCheckedIn: "{{firstName}} {{lastName}} hat eingecheckt",
        },
        realtimeErrors: {
          CONNECTION_ERROR: "Verbindungsfehler",
          MISSING_WEBSOCKET_URL: "WebSocket-URL fehlt",
        },
      },
      errors: {
        NO_TOKEN_PROVIDED: "Token fehlt.",
        INTERNAL_SERVER_ERROR: "Interner Serverfehler.",
        QRUUID_REQUIRED: "QR-Code ist erforderlich.",
        NO_VALID_CREDENTIALS: "Ungültige Zugangsdaten.",
        INVALID_TOKEN: "Token ist ungültig oder abgelaufen.",
        MEMBER_ID_REQUIRED_IN_PATH: "Mitglieds-ID fehlt im Pfad.",
        MEMBER_ID_REQUIRED: "Mitglieds-ID ist erforderlich.",
        INVALID_MEMBER_ID_FORMAT: "Ungültiges Mitglieds-ID-Format.",
        MEMBER_NOT_FOUND: "Mitglied nicht gefunden.",
        MEMBER_BLOCKED: "Mitglied ist gesperrt.",
        MEMBER_EMAIL_EXISTS: "Ein Mitglied mit dieser E-Mail existiert bereits.",
        MEMBER_REQUIRED: "Vorname, Nachname, E-Mail und sendEmail sind erforderlich.",
        INVALID_EMAIL_FORMAT: "Ungültiges E-Mail-Format.",
        EMAIL_REQUIRED: "E-Mail ist erforderlich.",
        EMAIL_AND_CONFIRMATION_CODE: "E-Mail und Bestätigungscode sind erforderlich.",
        INVALID_EMAIL_OR_CODE: "Ungültige E-Mail oder Code.",
        CODE_EXPIRED: "Der Code ist abgelaufen.",
        INVALID_CODE: "Ungültiger Code.",
        MISSING_CREDENTIALS: "Benutzername und Passwort sind erforderlich.",
        INVALID_CREDENTIALS: "Ungültige Zugangsdaten.",
        TOO_MANY_ATTEMPTS: "Zu viele Versuche. Bitte in {{minutes}} Minuten erneut versuchen.",
        CSV_REQUIRED: "CSV-Datei fehlt.",
        CSV_INVALID: "Ungültiges CSV-Format.",
        IMPORT_BATCH_REQUIRED: "Import-Batch fehlt oder ist ungültig.",
        IMPORT_BATCH_TOO_LARGE: "Import-Batch ist zu groß (max {{max}}).",
      },
    },
  },
} as const

if (!i18n.isInitialized) {
  i18n.use(initReactI18next).init({
    resources: resources as unknown as Resource,
    fallbackLng: "it",
    lng: "it",
    interpolation: { escapeValue: false },
  })
}

export function normalizeLanguage(lang?: string | null): SupportedLanguage {
  const raw = (lang || "").toLowerCase().trim()
  const base = raw.split("-")[0]
  if (base === "it" || base === "en" || base === "de") return base
  return "it"
}

export function getCookieLanguage(): SupportedLanguage | null {
  if (typeof document === "undefined") return null
  const match = document.cookie.match(/(?:^|;\\s*)lang=([^;]+)/)
  if (!match) return null
  return normalizeLanguage(decodeURIComponent(match[1]))
}

export function getStoredLanguage(): SupportedLanguage | null {
  if (typeof window === "undefined") return null
  const stored = window.localStorage.getItem("lang")
  if (stored) return normalizeLanguage(stored)
  return getCookieLanguage()
}

export function setStoredLanguage(lang: SupportedLanguage) {
  if (typeof window !== "undefined") {
    window.localStorage.setItem("lang", lang)
  }
  if (typeof document !== "undefined") {
    document.cookie = `lang=${encodeURIComponent(lang)}; path=/; max-age=31536000`
    document.documentElement.lang = lang
  }
  void i18n.changeLanguage(lang)
}

export function getApiLanguage(): SupportedLanguage {
  return normalizeLanguage(i18n.language)
}

export default i18n

